<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#333333" />
    <meta name="description" content="List items for sale" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>Sellular</title>
    <script type="text/javascript">
      let currentRoute = window?.location.href;
      window.onload = function () {
        const body = document.querySelector('body');
        const observer = new MutationObserver(function (mutations) {
          (mutations ?? []).forEach((_mutation) => {
            if (currentRoute !== window?.location.href) {
              currentRoute = window?.location.href;
              window?.scrollTo(0, 0); //scroll to top of the new page
              document?.getElementById('root')?.focus(); //reset page focus for accessibility
            }
          });
        });
        observer.observe(body, { childList: true, subtree: true });

        // const showTooltip = (e) => {
        //   const trigger = e.target;
        //   const tooltip = trigger?.querySelector('[role=tooltip]');
        //   const {x, y, width, height} = trigger?.getBoundingClientRect() ?? {x: 0, y: 0, width: 0, height: 0};
        //   tooltip?.style.left = `${Math.floor(x + width / 2)}px`;
        //   tooltip.style.top = `${Math.floor(y + height)}px`;
        // }

        // const tooltips = document.querySelectorAll('[data-tooltip]');

        // tooltips?.forEach((trigger) => {
        //   //populate tooltips
        //   const tooltipContent = document.createElement('div');
        //   tooltipContent.setAttribute('role', 'tooltip');
        //   tooltipContent.setAttribute('inert', true);
        //   tooltipContent.textContent = trigger?.dataset.tooltip;
        //   trigger?.appendChild(tooltipContent);

        //   //handle displaying tooltips on hover
        //   trigger?.addEventListener('mouseenter', showTooltip)
        // });
      };
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
